from ftplib import FTP

def ftp_file_listing(server, username, password):
    try:
        # Connect to the FTP server
        ftp = FTP(server)
        ftp.set_debuglevel(2)  # Enable debugging messages
        ftp.login(username, password)
        print("Login successful.")

        # Now you are logged in anonymously and can perform FTP operations
        # For example, you can list the files in the current directory
        print("Listing files:")
        files = ftp.nlst()
        for file in files:
            print(file)

        # When you're done, close the FTP connection
        ftp.quit()

    except Exception as e:
        print("An error occurred:", str(e))

# Usage example
server = "192.168.30.137"
username = "anonymous"
password = "your_email@example.com"  # Replace with your email address

ftp_file_listing(server, username, password)
